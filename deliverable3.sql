#Deliverable 3

#Created my own database to store the tables in so that they would not replace tables in KIMTAY or STAYWELL databases.
CREATE DATABASE MOSTEK;
USE MOSTEK;

#Create table CUSTOMERS
CREATE TABLE CUSTOMERS
(
	CUST_ID CHAR(6) PRIMARY KEY, #Changed length from 10 to 6 for convenience
	FIRST_NAME VARCHAR(30) NOT NULL,
	LAST_NAME VARCHAR(30) NOT NULL,
	DOB DATE NOT NULL, #'YYYY-MM-DD'
	EMAIL VARCHAR(50), #NOTE: NULL
	PHONE VARCHAR(15) #NOTE: NULL
);

#Insert 8-10 rows
INSERT INTO CUSTOMERS VALUES (000001,"John","Smith", '1970-10-12', "jsmith@gmail.com", "208-123-1544");
INSERT INTO CUSTOMERS VALUES (000002,"Kayla","Jones", '1985-01-02', "kjones@gmail.com", "973-288-1044");
INSERT INTO CUSTOMERS VALUES (000003,"Alex","Davis", '1999-08-01', "davisa@gmail.com", "208-399-8752");
INSERT INTO CUSTOMERS VALUES (000004,"Rico","Montoya", '1970-10-12', "jsmith@gmail.com", "308-955-8623");
INSERT INTO CUSTOMERS VALUES (000005,"James","Keenan", '1970-10-12', "jsmith@gmail.com", "973-712-6241");
INSERT INTO CUSTOMERS VALUES (000006,"Ronnie","Paulson", '1970-10-12', "jsmith@gmail.com", "208-019-4011");
INSERT INTO CUSTOMERS VALUES (000007,"Erwin","Braun", '1970-10-12', "jsmith@gmail.com", "208-854-1400");
INSERT INTO CUSTOMERS VALUES (000008,"Eren","Hoover", '1970-10-12', "jsmith@gmail.com", "208-656-9983");

#Display the table
SELECT *
	FROM CUSTOMERS;
    
#Create table ACCOUNTS
CREATE TABLE ACCOUNTS
(
	ACCOUNT_ID CHAR(6) PRIMARY KEY, #Changed length from 10 to 6 for convenience
	CUST_ID CHAR(6), #Changed length from 10 to 6 for convenience
	ACCOUNT_TYPE VARCHAR(20) NOT NULL,
	BALANCE DECIMAL(10,2) NOT NULL, #'YYYY-MM-DD'
	DATE_CREATED DATE, #'YYYY-MM-DD'
	FOREIGN KEY (CUST_ID) REFERENCES CUSTOMERS(CUST_ID) #Creates a foreign key
);

#Insert 8-10 rows
INSERT INTO ACCOUNTS VALUES (000101,000001,"Checking", 20000.00, '2010-10-01');
INSERT INTO ACCOUNTS VALUES (000102,000001,"Savings", 80000.00, '2010-10-01');
INSERT INTO ACCOUNTS VALUES (000103,000002,"Checking", 50000.00, '2015-01-20');
INSERT INTO ACCOUNTS VALUES (000104,000003,"Checking", 4000.00, '2012-06-15');
INSERT INTO ACCOUNTS VALUES (000105,000004,"Savings", 10000.00, '2019-08-21');
INSERT INTO ACCOUNTS VALUES (000106,000005,"Checking", 3000.00, '2020-09-18');
INSERT INTO ACCOUNTS VALUES (000107,000006,"Checking", 1000.00, '2024-11-03');
INSERT INTO ACCOUNTS VALUES (000108,000007,"Checking", 20000.00, '2009-03-29');
INSERT INTO ACCOUNTS VALUES (000109,000008,"Checking", 11000.00, '2017-02-11');

#Display the table
SELECT *
	FROM ACCOUNTS;
    
#Create table Transactions
CREATE TABLE TRANSACTIONS
(
	T_ID CHAR(6) PRIMARY KEY, #Changed length from 12 to 6 for convenience
	ACCOUNT_ID CHAR(6) NOT NULL,
	T_TYPE VARCHAR(20) NOT NULL, 
	AMOUNT DECIMAL(10,2) NOT NULL,
	T_DATE DATE, #'YYYY-MM-DD'
	FOREIGN KEY (ACCOUNT_ID) REFERENCES ACCOUNTS(ACCOUNT_ID)
);

#Insert 8-10 rows
INSERT INTO TRANSACTIONS VALUES (200001,000101,"Deposit", 200.00, '2010-11-01');
INSERT INTO TRANSACTIONS VALUES (200002,000102,"Withdrawal", 1000.00, '2012-02-11');
INSERT INTO TRANSACTIONS VALUES (200003,000103,"Deposit", 500.00, '2015-11-01');
INSERT INTO TRANSACTIONS VALUES (200004,000104,"Deposit", 100.00, '2013-11-01');
INSERT INTO TRANSACTIONS VALUES (200005,000105,"Deposit", 20.00, '2015-11-28');
INSERT INTO TRANSACTIONS VALUES (200006,000106,"Withdrawal", 1000.00, '2019-11-01');
INSERT INTO TRANSACTIONS VALUES (200007,000107,"Withdrawal", 340.00, '2024-12-01');
INSERT INTO TRANSACTIONS VALUES (200008,000108,"Deposit", 60.00, '2010-02-01');
INSERT INTO TRANSACTIONS VALUES (200009,000109,"Withdrawal", 2500.00, '2017-05-15');

#Display the table
SELECT *
	FROM TRANSACTIONS;

#Create table Loans    
CREATE TABLE LOANS
(
	LOAN_ID CHAR(6) PRIMARY KEY, #Changed length from 12 to 6 for convenience
	CUST_ID CHAR(6) NOT NULL,
	L_TYPE VARCHAR(20) NOT NULL, 
	L_AMOUNT DECIMAL(12,2) NOT NULL,
	INT_RATE DECIMAL(5,2) NOT NULL, 
	L_STATUS VARCHAR(15) NOT NULL #APPROVED, PENDING, VOID
	#FOREIGN KEY (CUST_ID) REFERENCES ACCOUNTS(CUST_ID) #Could not add this line without creating Error 1452
);

#INSERT ROWS
INSERT INTO LOANS VALUES (000001,000101,"MORTGAGE", 50000.00, 5.20, "PENDING");
INSERT INTO LOANS VALUES (000002,000102,"PERSONAL", 20000.00, 25.00, "VOID");
INSERT INTO LOANS VALUES (000003,000103,"STUDENT", 25000.00, 25.00, "PENDING");
INSERT INTO LOANS VALUES (000004,000104,"AUTO", 30000.00, 20.00, "APPROVED");
INSERT INTO LOANS VALUES (000005,000105,"STUDENT", 30000.00, 25.00, "APPROVED");
INSERT INTO LOANS VALUES (000005,000106,"AUTO", 10000.00, 15.00, "APPROVED");
INSERT INTO LOANS VALUES (000006,000107,"AUTO", 20000.00, 10.00, "APPROVED");
INSERT INTO LOANS VALUES (000007,000108,"MORTGAGE", 40000.00, 5.00, "APPROVED");
#Error Code: 1452. Cannot add or update a child row: a foreign key constraint fails (`mostek`.`loans`, CONSTRAINT `loans_ibfk_1` FOREIGN KEY (`CUST_ID`) REFERENCES `customers` (`CUST_ID`))
#Error Code: 1062. Duplicate entry '5' for key 'loans.PRIMARY'

#Table CREDIT_CARDS
CREATE TABLE CREDIT_CARDS
(
	CARD_ID CHAR(06) PRIMARY KEY, #Changed from 10 to 6 for convenience
	CUST_ID CHAR(6) NOT NULL,
	CARD_NUM VARCHAR(16) NOT NULL, 
	CARD_TYPE VARCHAR(20) NOT NULL, #VISA, AMEX, DISCOVER
	CREDIT_LIMIT DECIMAL(10,2) NOT NULL, 
	EXP DATE
    #FOREIGN KEY (CUST_ID) REFERENCES CUSTOMERS(CUST_ID) #This line was ommitted because it caused another error
);

#Insert rows
INSERT INTO CREDIT_CARDS VALUES (000001,000101,"4111211111111111", "VISA", 5000.00, "2025-11-01");
INSERT INTO CREDIT_CARDS VALUES (000002,000102,"5500100020002004", "VISA", 1000.00, "2027-03-01");
INSERT INTO CREDIT_CARDS VALUES (000003,000103,"340000000000009", "VISA", 10000.00, "2026-08-15");
INSERT INTO CREDIT_CARDS VALUES (000004,000104,"6011000000000004", "VISA", 3000.00, "2026-10-30");
INSERT INTO CREDIT_CARDS VALUES (000005,000105,"4000056655665556", "DISCOVER", 5000.00, "2027-11-01");
INSERT INTO CREDIT_CARDS VALUES (000005,000106,"5200828282828210", "VISA", 7000.00, "2028-01-01");
INSERT INTO CREDIT_CARDS VALUES (000006,000107,"6011432020202020", "VISA", 5000.00, "2028-06-01");
INSERT INTO CREDIT_CARDS VALUES (000007,000108,"378282246310005", "AMEX", 1000.00, "2029-01-01");

#Bank_branches
CREATE TABLE BANK_BRANCHES
(
	BRANCH_ID VARCHAR(50) PRIMARY KEY, 
	ADDRESS VARCHAR(100) NOT NULL,
	CITY VARCHAR(30) NOT NULL, 
	STATE VARCHAR(2) NOT NULL,
	ZIPCODE VARCHAR(10) NOT NULL
);

#Inserting into rows with faster formatting
INSERT INTO BANK_BRANCHES (BRANCH_ID, ADDRESS, CITY, STATE, ZIPCODE) VALUES
('BR001', '123 Maple Street', 'Springfield', 'IL', '62704'),
('BR002', '456 Oak Avenue', 'Madison', 'WI', '53703'),
('BR003', '789 Pine Road', 'Austin', 'TX', '73301'),
('BR004', '321 Birch Blvd', 'Denver', 'CO', '80202'),
('BR005', '654 Cedar Lane', 'Seattle', 'WA', '98101'),
('BR006', '987 Elm Street', 'Orlando', 'FL', '32801'),
('BR007', '222 Ash Court', 'Phoenix', 'AZ', '85001'),
('BR008', '888 Redwood Drive', 'San Jose', 'CA', '95112'),
('BR009', '444 Sycamore Circle', 'Atlanta', 'GA', '30301'),
('BR010', '555 Willow Way', 'Columbus', 'OH', '43085');

#View table
SELECT *
	FROM BANK_BRANCHES;